"use strict";(self.webpackChunkecommerce_angular=self.webpackChunkecommerce_angular||[]).push([[508],{508:(z,f,a)=>{a.r(f),a.d(f,{AdminModule:()=>Q});var d=a(6814),u=a(1896),t=a(5879);let y=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin"]],decls:2,vars:0,template:function(o,i){1&o&&(t.TgZ(0,"p"),t._uU(1,"admin works!"),t.qZA())}})}return e})(),Z=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard",5,"p"]],decls:2,vars:0,template:function(o,i){1&o&&(t.TgZ(0,"p"),t._uU(1,"dashboard works!"),t.qZA())}})}return e})();var r=a(6223),C=a(2939),p=a(9862),x=a(5676);const g="http://localhost:9595/";let h=(()=>{class e{constructor(n){this.http=n}addCategory(n){return this.http.post(g+"api/admin/category",n,{headers:this.createAuthorizationHeader()})}getAllCategories(){return this.http.get(g+"api/admin/categories",{headers:this.createAuthorizationHeader()})}addProduct(n){return this.http.post(g+"api/admin/product",n,{headers:this.createAuthorizationHeader()})}createAuthorizationHeader(){const n=x.T.getToken();return(new p.WM).set("Authorization","Bearer "+n)}static#t=this.\u0275fac=function(o){return new(o||e)(t.LFG(p.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var _=a(2296),P=a(2032),s=a(9157);function b(e,m){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"This input is required"),t.qZA())}function A(e,m){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"This input is required"),t.qZA())}let v=(()=>{class e{constructor(n,o,i,c){this.formBuilder=n,this.snackBar=o,this.router=i,this.adminService=c}ngOnInit(){this.categoryForm=this.formBuilder.group({name:[null,r.kI.required],description:[null,r.kI.required]})}addCategory(){this.categoryForm.valid?this.adminService.addCategory(this.categoryForm.value).subscribe(n=>{null!=n.id?(this.snackBar.open("Category Posted Successfuly","Close",{duration:5e3}),this.router.navigateByUrl("/admin/dashboard")):this.snackBar.open(n.message,"Close",{duration:5e3,panelClass:"error-snackbar"})}):this.categoryForm.markAllAsTouched()}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(C.ux),t.Y36(u.F0),t.Y36(h))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-post-category"]],decls:16,vars:3,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"form-field"],["matInput","","type","text","placeholder","Category name","formControlName","name"],[4,"ngIf"],["matInput","","type","text","placeholder","Description","formControlName","description"],["mat-raised-button","","color","primary","type","submit"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Add Category"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.addCategory()}),t.TgZ(4,"mat-form-field",2)(5,"mat-label"),t._uU(6,"Name"),t.qZA(),t._UZ(7,"input",3),t.YNc(8,b,2,0,"mat-error",4),t.qZA(),t.TgZ(9,"mat-form-field",2)(10,"mat-label"),t._uU(11,"Description"),t.qZA(),t._UZ(12,"input",5),t.YNc(13,A,2,0,"mat-error",4),t.qZA(),t.TgZ(14,"button",6),t._uU(15,"Add Category"),t.qZA()()()),2&o){let c,l;t.xp6(3),t.Q6J("formGroup",i.categoryForm),t.xp6(5),t.Q6J("ngIf",null==(c=i.categoryForm.get("name"))?null:c.hasError("required")),t.xp6(5),t.Q6J("ngIf",null==(l=i.categoryForm.get("description"))?null:l.hasError("required"))}},dependencies:[d.O5,_.lW,P.Nt,s.KE,s.hX,s.TO,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:90px auto 0;padding:20px}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#3f51b5}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:20px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #ccc}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%]{border-width:1px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{columns:#3f51b5}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:center}@media (max-width: 600px){.container[_ngcontent-%COMP%]{padding:10px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:10px}}"]})}return e})();var T=a(617),q=a(8525),F=a(7466);function I(e,m){if(1&e&&(t.TgZ(0,"div",14)(1,"div",15),t._UZ(2,"img",16),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("src",n.imagePreview,t.LSH)}}function U(e,m){if(1&e&&(t.TgZ(0,"mat-radio-button",17),t._uU(1),t.qZA()),2&e){const n=m.$implicit;t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.name)}}function w(e,m){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"This input is required !"),t.qZA())}function J(e,m){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"This input is required !"),t.qZA())}function N(e,m){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"This input is required !"),t.qZA())}function S(e,m){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"This input is required !"),t.qZA())}const Y=[{path:"",component:y},{path:"dashboard",component:Z},{path:"category",component:v},{path:"product",component:(()=>{class e{constructor(n,o,i,c){this.formBuilder=n,this.snackBar=o,this.router=i,this.adminService=c,this.listOfCategories=[]}onFileSelected(n){this.selectedFile=n.target.files[0],this.previewImage()}previewImage(){const n=new FileReader;n.onload=()=>{this.imagePreview=n.result},n.readAsDataURL(this.selectedFile)}ngOnInit(){this.produtForm=this.formBuilder.group({categoryId:[null,[r.kI.required]],name:[null,[r.kI.required]],price:[null,[r.kI.required]],description:[null,[r.kI.required]]}),this.getAllCategories()}getAllCategories(){this.adminService.getAllCategories().subscribe(n=>{this.listOfCategories=n})}addProduct(){}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(C.ux),t.Y36(u.F0),t.Y36(h))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-post-product"]],decls:35,vars:7,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"file-upload-container"],[1,"file-upload-label"],["type","file","id","fileInput","hidden","",3,"change"],["class","image-preview",4,"ngIf"],["appearance","outline",1,"form-field"],["formControlName","categoryId","name","categoryId"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","type","text","placeholder","Name","formControlName","name"],["matInput","","type","number","placeholder","Price","formControlName","price"],["matInput","","placeholder","Description","formControlName","description"],["mat-raised-button","","color","primary","type","submit"],[1,"image-preview"],[1,"circle-image"],["alt","Selected Image",1,"preview-image",3,"src"],[3,"value"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Add Product"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.addProduct()}),t.TgZ(4,"div",2)(5,"label",3)(6,"span"),t._uU(7,"Select a File"),t.qZA(),t.TgZ(8,"input",4),t.NdJ("change",function(l){return i.onFileSelected(l)}),t.qZA(),t.TgZ(9,"mat-icon"),t._uU(10,"attach_file"),t.qZA()(),t.YNc(11,I,3,1,"div",5),t.qZA(),t.TgZ(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"Select a Category"),t.qZA(),t.TgZ(15,"mat-select",7),t.YNc(16,U,2,2,"mat-radio-button",8),t.qZA(),t.YNc(17,w,2,0,"mat-error",9),t.qZA(),t.TgZ(18,"mat-form-field",6)(19,"mat-label"),t._uU(20,"Name"),t.qZA(),t._UZ(21,"input",10),t.YNc(22,J,2,0,"mat-error",9),t.qZA(),t.TgZ(23,"mat-form-field",6)(24,"mat-label"),t._uU(25,"Price"),t.qZA(),t._UZ(26,"input",11),t.YNc(27,N,2,0,"mat-error",9),t.qZA(),t.TgZ(28,"mat-form-field",6)(29,"mat-label"),t._uU(30,"Description"),t.qZA(),t._UZ(31,"textarea",12),t.YNc(32,S,2,0,"mat-error",9),t.qZA(),t.TgZ(33,"button",13),t._uU(34,"Add Product"),t.qZA()()()),2&o){let c,l,O,M;t.xp6(3),t.Q6J("formGroup",i.produtForm),t.xp6(8),t.Q6J("ngIf",i.selectedFile),t.xp6(5),t.Q6J("ngForOf",i.listOfCategories),t.xp6(1),t.Q6J("ngIf",null==(c=i.produtForm.get("categoryId"))?null:c.hasError("required")),t.xp6(5),t.Q6J("ngIf",null==(l=i.produtForm.get("name"))?null:l.hasError("required")),t.xp6(5),t.Q6J("ngIf",null==(O=i.produtForm.get("price"))?null:O.hasError("required")),t.xp6(5),t.Q6J("ngIf",null==(M=i.produtForm.get("description"))?null:M.hasError("required"))}},dependencies:[d.sg,d.O5,T.Hw,_.lW,P.Nt,s.KE,s.hX,s.TO,q.gD,F.U0,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#3f51b5}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-upload-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:12px 24px;background-color:#3f51b5;color:#fff;cursor:pointer;border-radius:4px;transition:background-color .3s}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-upload-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:8px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-upload-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:16px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .circle-image[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:100%;overflow:hidden;position:relative;background-color:#d3d3d3;box-shadow:0 2px 4px #0003}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .circle-image[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-top:20px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:center;margin-top:16px}.form-field[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .form-field[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}@media (max-width: 600px){.container[_ngcontent-%COMP%]{padding:10px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:10px}}"]})}return e})()}];let B=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(Y),u.Bz]})}return e})();var k=a(3358);let Q=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[d.ez,B,k.q,r.u5,r.UX,p.JF]})}return e})()}}]);